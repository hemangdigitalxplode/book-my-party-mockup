(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8764],{66084:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/venues/create",function(){return t(26675)}])},26675:function(e,s,t){"use strict";t.r(s),t.d(s,{__N_SSG:function(){return j}});var i=t(85893),n=t(67294),a=t(99504),l=t(16310),c=t(94034),o=t(16430),r=t(53376),d=t(25675),u=t.n(d),h=t(74936),p=t(45007),v=t(75763),m=t(11163),b=t(60174),x=t(96303);var j=!0;s.default=e=>{let{amenities:s,cuisines:t,franchiseChain:d,locations:j,occasions:g,venueTypes:y,activities:N,ageGroups:k,propertyRules:C}=e;var f,q,w,S,_,M,V,B,T;const I=(0,m.useRouter)(),P=(0,p.I0)(),{venueState:R}=(0,p.v9)((e=>e.venueDetails)),{loggedInUser:D,venueMenuItems:E}=(0,p.v9)((e=>e.session)),[F,L]=(0,n.useState)(!1),[G,H]=(0,n.useState)({step1:!1,step2:!1,step3:!1,step4:!1,step5:!1,step6:!1,step7:!1,step8:!1}),O=(0,c.TA)({initialValues:{title:(null===R||void 0===R?void 0:R.title)||"",description:(null===R||void 0===R?void 0:R.description)||"",highlights:(null===R||void 0===R?void 0:R.highlights)||""},enableReinitialize:!0,validationSchema:l.Ry().shape({title:l.Z_().label("Title").required("Title is required").min(8,"Title must be at least 8 characters")}),onSubmit:async e=>{P((0,v.k)({...R,title:e.title,description:e.description,highlights:e.highlights})),H((e=>({...e,step1:!0}))),I.push({pathname:"/dashboard/venues/create",query:"step=1"})}});(0,n.useEffect)((()=>{!async function(){const e=await b.M.authorsList(),s=null===e||void 0===e?void 0:e.map((e=>parseInt(e.id))),t=null===D||void 0===D?void 0:D.databaseId,i=[...s];void 0!==t&&null!==t&&i.push(t),P((0,x.kR)(i))}(),setTimeout((()=>{L(!0)}),1e3)}),[]);const z=e=>{0===e?I.push("/dashboard/venues/create"):I.push({pathname:"/dashboard/venues/create",query:"step=".concat(e)})};return(0,i.jsxs)(o.cl,{children:[(0,i.jsx)(o.RF,{seo:{title:"Create Venue - Book My Party"}||""}),(0,i.jsxs)("div",{className:"create-venue",children:[(0,i.jsx)("h3",{className:"mb-0",children:"Create Venue"}),(0,i.jsxs)("ul",{className:"nav nav-pills",id:"pills-tab",role:"tablist",children:[(0,i.jsx)("li",{className:"nav-item",role:"presentation",children:(0,i.jsxs)("button",{onClick:()=>z(0),className:"nav-link ".concat(G.step1&&"success"," ").concat(!(null===I||void 0===I||null===(f=I.query)||void 0===f?void 0:f.step)&&"active"),type:"button",disabled:!G.step1,children:["Basic Info",(0,i.jsx)(u(),{src:h.Vn,width:"16",height:"16",alt:"CheckBadge"})]})}),(0,i.jsx)("li",{className:"nav-item",role:"presentation",children:(0,i.jsxs)("button",{onClick:()=>z(1),className:"nav-link ".concat(G.step2&&"success"," ").concat("1"==(null===I||void 0===I||null===(q=I.query)||void 0===q?void 0:q.step)&&"active"),type:"button",disabled:!G.step2,children:["Facilities",(0,i.jsx)(u(),{src:h.Vn,width:"16",height:"16",alt:"CheckBadge"})]})}),(0,i.jsx)("li",{className:"nav-item",role:"presentation",children:(0,i.jsxs)("button",{onClick:()=>z(2),className:"nav-link ".concat(G.step3&&"success"," ").concat("2"==(null===I||void 0===I||null===(w=I.query)||void 0===w?void 0:w.step)&&"active"),type:"button",disabled:!G.step3,children:["Gallery",(0,i.jsx)(u(),{src:h.Vn,width:"16",height:"16",alt:"CheckBadge"})]})}),(0,i.jsx)("li",{className:"nav-item",role:"presentation",children:(0,i.jsxs)("button",{onClick:()=>z(3),className:"nav-link ".concat(G.step4&&"success"," ").concat("3"==(null===I||void 0===I||null===(S=I.query)||void 0===S?void 0:S.step)&&"active"),type:"button",disabled:!G.step4,children:["A La Carte Menu",(0,i.jsx)(u(),{src:h.Vn,width:"16",height:"16",alt:"CheckBadge"})]})}),("banquet"===(null===R||void 0===R?void 0:R.type)||"farm-house"===R.type)&&(0,i.jsx)("li",{className:"nav-item",role:"presentation",children:(0,i.jsxs)("button",{onClick:()=>z(4),className:"nav-link ".concat(G.step5&&"success"," ").concat("4"==(null===I||void 0===I||null===(_=I.query)||void 0===_?void 0:_.step)&&"active"),type:"button",disabled:!G.step5,children:["Menu items",(0,i.jsx)(u(),{src:h.Vn,width:"16",height:"16",alt:"CheckBadge"})]})}),(0,i.jsx)("li",{className:"nav-item",role:"presentation",children:(0,i.jsxs)("button",{onClick:()=>z(5),className:"nav-link ".concat(G.step6&&"success"," ").concat("5"==(null===I||void 0===I||null===(M=I.query)||void 0===M?void 0:M.step)&&"active"),type:"button",disabled:!G.step6,children:["Locations",(0,i.jsx)(u(),{src:h.Vn,width:"16",height:"16",alt:"CheckBadge"})]})}),(0,i.jsx)("li",{className:"nav-item",role:"presentation",children:(0,i.jsxs)("button",{onClick:()=>z(6),className:"nav-link ".concat(G.step7&&"success"," ").concat("6"==(null===I||void 0===I||null===(V=I.query)||void 0===V?void 0:V.step)&&"active"),type:"button",disabled:!G.step6,children:["Party Packages",(0,i.jsx)(u(),{src:h.Vn,width:"16",height:"16",alt:"CheckBadge"})]})}),(0,i.jsx)("li",{className:"nav-item",role:"presentation",children:(0,i.jsxs)("button",{onClick:()=>z(7),className:"nav-link ".concat(G.step8&&"success"," ").concat("7"==(null===I||void 0===I||null===(B=I.query)||void 0===B?void 0:B.step)&&"active"),type:"button",disabled:!G.step8,children:["Holidays",(0,i.jsx)(u(),{src:h.Vn,width:"16",height:"16",alt:"CheckBadge"})]})})]}),(0,i.jsxs)("div",{className:"tab-content",id:"pills-tabContent",children:[!(null===I||void 0===I||null===(T=I.query)||void 0===T?void 0:T.step)&&(0,i.jsxs)("form",{onSubmit:O.handleSubmit,className:"tab-pane fade show active",children:[(0,i.jsx)("div",{className:"card",children:(0,i.jsxs)("div",{className:"card-body information",children:[(0,i.jsx)("div",{className:"mb-30",children:(0,i.jsx)(r.UP,{className:"mb-30",label:"Title",name:"title",required:!0,value:O.values.title,onChange:O.handleChange,onBlur:O.handleBlur,error:O.touched.title&&O.errors.title})}),(0,i.jsxs)("div",{className:"mb-30",children:[(0,i.jsx)("label",{className:"form-label",children:"Short Intro"}),F&&(0,i.jsx)(a.vM,{initData:O.values.description,onChange:e=>{const s=e.editor.getData(),t=(new DOMParser).parseFromString(s,"text/html").body.innerHTML;O.setFieldValue("description",t)},config:{allowedContent:!0,fullPage:!0}})]}),(0,i.jsxs)("div",{className:"mb-30",children:[(0,i.jsx)("label",{className:"form-label",children:"Highlight"}),F&&(0,i.jsx)(a.vM,{initData:O.values.highlights,onChange:e=>{const s=e.editor.getData(),t=(new DOMParser).parseFromString(s,"text/html").body.innerHTML;O.setFieldValue("highlights",t)},config:{allowedContent:!0,fullPage:!0}})]}),(0,i.jsx)("hr",{})]})}),(0,i.jsx)("div",{className:"d-flex justify-content-center continue-btn",children:(0,i.jsx)(r.zx,{type:"submit",label:"Continue",className:"btn btn-primary"})})]}),"1"===I.query.step&&(0,i.jsx)(o._r,{props:{amenities:s,cuisines:t,franchiseChain:d,locations:j,occasions:g,venueTypes:y,activities:N,ageGroups:k,propertyRules:C,setSteps:H}}),"2"===I.query.step&&(0,i.jsx)(o.Iz,{props:{setSteps:H}}),"3"===I.query.step&&(0,i.jsx)(o.IR,{props:{setSteps:H}}),"4"===I.query.step&&(0,i.jsx)(o.sN,{venueMenuItems:E,props:{setSteps:H}}),"5"===I.query.step&&(0,i.jsx)(o.Ye,{props:{setSteps:H,locations:j}}),"6"===I.query.step&&(0,i.jsx)(o.PS,{venueMenuItems:E,props:{setSteps:H}}),"7"===I.query.step&&(0,i.jsx)(o.WQ,{})]})]})]})}}},function(e){e.O(0,[4885,2982,3429,9225,2888,9774,179],(function(){return s=66084,e(e.s=s);var s}));var s=e.O();_N_E=s}]);