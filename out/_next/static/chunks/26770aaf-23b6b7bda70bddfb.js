"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2982],{94993:function(e,t,n){var r;n.r(t),n.d(t,{Composite:function(){return j},CompositeItem:function(){return q},FloatingArrow:function(){return V},FloatingDelayGroup:function(){return de},FloatingFocusManager:function(){return qe},FloatingList:function(){return F},FloatingNode:function(){return ne},FloatingOverlay:function(){return ze},FloatingPortal:function(){return Ke},FloatingTree:function(){return re},arrow:function(){return a.x7},autoPlacement:function(){return a.X5},autoUpdate:function(){return f.Me},computePosition:function(){return f.oo},detectOverflow:function(){return f.US},flip:function(){return a.RR},getOverflowAncestors:function(){return i.Kx},hide:function(){return a.Cp},inline:function(){return a.Qo},inner:function(){return Rt},limitShift:function(){return a.dr},offset:function(){return a.cv},platform:function(){return f.Jv},safePolygon:function(){return Mt},shift:function(){return a.uY},size:function(){return a.dp},useClick:function(){return Ge},useClientPoint:function(){return Ze},useDelayGroup:function(){return ve},useDelayGroupContext:function(){return fe},useDismiss:function(){return et},useFloating:function(){return nt},useFloatingNodeId:function(){return te},useFloatingParentNodeId:function(){return $},useFloatingPortalNode:function(){return Fe},useFloatingRootContext:function(){return tt},useFloatingTree:function(){return ee},useFocus:function(){return rt},useHover:function(){return le},useId:function(){return G},useInnerOffset:function(){return wt},useInteractions:function(){return it},useListItem:function(){return K},useListNavigation:function(){return vt},useMergeRefs:function(){return d},useRole:function(){return pt},useTransitionStatus:function(){return yt},useTransitionStyles:function(){return bt},useTypeahead:function(){return Et}});var o=n(67294),u=n(97145),c=n(71347),i=n(37317),l=n(88388),s=n(73935),a=n(1371),f=n(29545);function d(e){return o.useMemo((()=>e.every((e=>null==e))?null:t=>{e.forEach((e=>{"function"===typeof e?e(t):null!=e&&(e.current=t)}))}),e)}const v={...r||(r=n.t(o,2))},m=v.useInsertionEffect||(e=>e());function p(e){const t=o.useRef((()=>{0}));return m((()=>{t.current=e})),o.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}const g="ArrowUp",h="ArrowDown",y="ArrowLeft",b="ArrowRight";function E(e,t,n){return Math.floor(e/t)!==n}function x(e,t){return t<0||t>=e.current.length}function R(e,t){return k(e,{disabledIndices:t})}function w(e,t){return k(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function k(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:o,amount:u=1}=void 0===t?{}:t;const c=e.current;let i=n;do{i+=r?-u:u}while(i>=0&&i<=c.length-1&&O(c,i,o));return i}function M(e,t){let{event:n,orientation:r,loop:o,cols:i,disabledIndices:l,minIndex:s,maxIndex:a,prevIndex:f,stopEvent:d=!1}=t,v=f;if(n.key===g){if(d&&(0,u.p7)(n),-1===f)v=a;else if(v=k(e,{startingIndex:v,amount:i,decrement:!0,disabledIndices:l}),o&&(f-i<s||v<0)){const e=f%i,t=a%i,n=a-(t-e);v=t===e?a:t>e?n:n-i}x(e,v)&&(v=f)}if(n.key===h&&(d&&(0,u.p7)(n),-1===f?v=s:(v=k(e,{startingIndex:f,amount:i,disabledIndices:l}),o&&f+i>a&&(v=k(e,{startingIndex:f%i-i,amount:i,disabledIndices:l}))),x(e,v)&&(v=f)),"both"===r){const t=(0,c.GW)(f/i);n.key===b&&(d&&(0,u.p7)(n),f%i!==i-1?(v=k(e,{startingIndex:f,disabledIndices:l}),o&&E(v,i,t)&&(v=k(e,{startingIndex:f-f%i-1,disabledIndices:l}))):o&&(v=k(e,{startingIndex:f-f%i-1,disabledIndices:l})),E(v,i,t)&&(v=f)),n.key===y&&(d&&(0,u.p7)(n),f%i!==0?(v=k(e,{startingIndex:f,decrement:!0,disabledIndices:l}),o&&E(v,i,t)&&(v=k(e,{startingIndex:f+(i-f%i),decrement:!0,disabledIndices:l}))):o&&(v=k(e,{startingIndex:f+(i-f%i),decrement:!0,disabledIndices:l})),E(v,i,t)&&(v=f));const r=(0,c.GW)(a/i)===t;x(e,v)&&(v=o&&r?n.key===y?a:k(e,{startingIndex:f-f%i-1,disabledIndices:l}):f)}return v}function I(e,t,n){const r=[];let o=0;return e.forEach(((e,u)=>{let{width:c,height:i}=e,l=!1;for(n&&(o=0);!l;){const e=[];for(let n=0;n<c;n++)for(let r=0;r<i;r++)e.push(o+n+r*t);o%t+c<=t&&e.every((e=>null==r[e]))?(e.forEach((e=>{r[e]=u})),l=!0):o++}})),[...r]}function C(e,t,n,r,o){if(-1===e)return-1;const u=n.indexOf(e),c=t[e];switch(o){case"tl":return u;case"tr":return c?u+c.width-1:u;case"bl":return c?u+(c.height-1)*r:u;case"br":return n.lastIndexOf(e)}}function T(e,t){return t.flatMap(((t,n)=>e.includes(t)?[n]:[]))}function O(e,t,n){if(n)return n.includes(t);const r=e[t];return null==r||r.hasAttribute("disabled")||"true"===r.getAttribute("aria-disabled")}let P=0;function L(e,t){void 0===t&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(P);const u=()=>null==e?void 0:e.focus({preventScroll:n});o?u():P=requestAnimationFrame(u)}var S="undefined"!==typeof document?o.useLayoutEffect:o.useEffect;function A(e,t){const n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}const D=o.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function F(e){const{children:t,elementsRef:n,labelsRef:r}=e,[u,c]=o.useState((()=>new Map)),i=o.useCallback((e=>{c((t=>new Map(t).set(e,null)))}),[]),l=o.useCallback((e=>{c((t=>{const n=new Map(t);return n.delete(e),n}))}),[]);return S((()=>{const e=new Map(u);Array.from(e.keys()).sort(A).forEach(((t,n)=>{e.set(t,n)})),function(e,t){if(e.size!==t.size)return!1;for(const[n,r]of e.entries())if(r!==t.get(n))return!1;return!0}(u,e)||c(e)}),[u]),o.createElement(D.Provider,{value:o.useMemo((()=>({register:i,unregister:l,map:u,elementsRef:n,labelsRef:r})),[i,l,u,n,r])},t)}function K(e){void 0===e&&(e={});const{label:t}=e,{register:n,unregister:r,map:u,elementsRef:c,labelsRef:i}=o.useContext(D),[l,s]=o.useState(null),a=o.useRef(null),f=o.useCallback((e=>{if(a.current=e,null!==l&&(c.current[l]=e,i)){var n;const r=void 0!==t;i.current[l]=r?t:null!=(n=null==e?void 0:e.textContent)?n:null}}),[l,c,i,t]);return S((()=>{const e=a.current;if(e)return n(e),()=>{r(e)}}),[n,r]),S((()=>{const e=a.current?u.get(a.current):null;null!=e&&s(e)}),[u]),o.useMemo((()=>({ref:f,index:null==l?-1:l})),[l,f])}function N(e,t){return"function"===typeof e?e(t):e?o.cloneElement(e,t):o.createElement("div",t)}const W=o.createContext({activeIndex:0,onNavigate:()=>{}}),_=[y,b],U=[g,h],H=[..._,...U],j=o.forwardRef((function(e,t){const{render:n,orientation:r="both",loop:u=!0,cols:c=1,disabledIndices:i,activeIndex:l,onNavigate:s,itemSizes:a,dense:f=!1,...d}=e,[v,m]=o.useState(0),E=null!=l?l:v,P=p(null!=s?s:m),S=o.useRef([]),A=n&&"function"!==typeof n?n.props:{},D=o.useMemo((()=>({activeIndex:E,onNavigate:P})),[E,P]),K=c>1;const j={...d,...A,ref:t,"aria-orientation":"both"===r?void 0:r,onKeyDown(e){null==d.onKeyDown||d.onKeyDown(e),null==A.onKeyDown||A.onKeyDown(e),function(e){if(!H.includes(e.key))return;let t=E;const n=R(S,i),o=w(S,i);if(K){const l=a||Array.from({length:S.current.length},(()=>({width:1,height:1}))),s=I(l,c,f),d=s.findIndex((e=>null!=e&&!O(S.current,e,i))),v=s.reduce(((e,t,n)=>null==t||O(S.current,t,i)?e:n),-1);t=s[M({current:s.map((e=>e?S.current[e]:null))},{event:e,orientation:r,loop:u,cols:c,disabledIndices:T([...i||S.current.map(((e,t)=>O(S.current,t)?t:void 0)),void 0],s),minIndex:d,maxIndex:v,prevIndex:C(E>o?n:E,l,s,c,e.key===h?"bl":e.key===b?"tr":"tl")})]}const l={horizontal:[b],vertical:[h],both:[b,h]}[r],s={horizontal:[y],vertical:[g],both:[y,g]}[r],d=K?H:{horizontal:_,vertical:U,both:H}[r];t===E&&[...l,...s].includes(e.key)&&(t=u&&t===o&&l.includes(e.key)?n:u&&t===n&&s.includes(e.key)?o:k(S,{startingIndex:t,decrement:s.includes(e.key),disabledIndices:i})),t===E||x(S,t)||(e.stopPropagation(),d.includes(e.key)&&e.preventDefault(),P(t),queueMicrotask((()=>{L(S.current[t])})))}(e)}};return o.createElement(W.Provider,{value:D},o.createElement(F,{elementsRef:S},N(n,j)))})),q=o.forwardRef((function(e,t){const{render:n,...r}=e,u=n&&"function"!==typeof n?n.props:{},{activeIndex:c,onNavigate:i}=o.useContext(W),{ref:l,index:s}=K(),a=d([l,t,u.ref]),f=c===s;return N(n,{...r,...u,ref:a,tabIndex:f?0:-1,"data-active":f?"":void 0,onFocus(e){null==r.onFocus||r.onFocus(e),null==u.onFocus||u.onFocus(e),i(s)}})}));function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B.apply(this,arguments)}let z=!1,X=0;const Y=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+X++;const G=v.useId||function(){const[e,t]=o.useState((()=>z?Y():void 0));return S((()=>{null==e&&t(Y())}),[]),o.useEffect((()=>{z=!0}),[]),e};const V=o.forwardRef((function(e,t){const{context:{placement:n,elements:{floating:r},middlewareData:{arrow:u}},width:c=14,height:l=7,tipRadius:s=0,strokeWidth:a=0,staticOffset:f,stroke:d,d:v,style:{transform:m,...p}={},...g}=e;const h=G(),[y,b]=o.useState(!1);if(S((()=>{if(!r)return;"rtl"===(0,i.Dx)(r).direction&&b(!0)}),[r]),!r)return null;const E=2*a,x=E/2,R=c/2*(s/-8+1),w=l/2*s/4,[k,M]=n.split("-"),I=!!v,C="top"===k||"bottom"===k,T=f&&"end"===M?"bottom":"top";let O=f&&"end"===M?"right":"left";f&&y&&(O="end"===M?"left":"right");const P=null!=(null==u?void 0:u.x)?f||u.x:"",L=null!=(null==u?void 0:u.y)?f||u.y:"",A=v||"M0,0 H"+c+" L"+(c-R)+","+(l-w)+" Q"+c/2+","+l+" "+R+","+(l-w)+" Z",D={top:I?"rotate(180deg)":"",left:I?"rotate(90deg)":"rotate(-90deg)",bottom:I?"":"rotate(180deg)",right:I?"rotate(-90deg)":"rotate(90deg)"}[k];return o.createElement("svg",B({},g,{"aria-hidden":!0,ref:t,width:I?c:c+E,height:c,viewBox:"0 0 "+c+" "+(l>c?l:c),style:{position:"absolute",pointerEvents:"none",[O]:P,[T]:L,[k]:C||I?"100%":"calc(100% - "+E/2+"px)",transform:""+D+(null!=m?m:""),...p}}),E>0&&o.createElement("path",{clipPath:"url(#"+h+")",fill:"none",stroke:d,strokeWidth:E+(v?0:1),d:A}),o.createElement("path",{stroke:E&&!v?g.fill:"none",d:A}),o.createElement("clipPath",{id:h},o.createElement("rect",{x:-x,y:x*(I?-1:1),width:c+E,height:c})))}));function Z(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,(null==(r=e.get(t))?void 0:r.filter((e=>e!==n)))||[])}}}const J=o.createContext(null),Q=o.createContext(null),$=()=>{var e;return(null==(e=o.useContext(J))?void 0:e.id)||null},ee=()=>o.useContext(Q);function te(e){const t=G(),n=ee(),r=$(),o=e||r;return S((()=>{const e={id:t,parentId:o};return null==n||n.addNode(e),()=>{null==n||n.removeNode(e)}}),[n,t,o]),t}function ne(e){const{children:t,id:n}=e,r=$();return o.createElement(J.Provider,{value:o.useMemo((()=>({id:n,parentId:r})),[n,r])},t)}function re(e){const{children:t}=e,n=o.useRef([]),r=o.useCallback((e=>{n.current=[...n.current,e]}),[]),u=o.useCallback((e=>{n.current=n.current.filter((t=>t!==e))}),[]),c=o.useState((()=>Z()))[0];return o.createElement(Q.Provider,{value:o.useMemo((()=>({nodesRef:n,addNode:r,removeNode:u,events:c})),[r,u,c])},t)}function oe(e){return"data-floating-ui-"+e}function ue(e){const t=(0,o.useRef)(e);return S((()=>{t.current=e})),t}const ce=oe("safe-polygon");function ie(e,t,n){return n&&!(0,u.r)(n)?0:"number"===typeof e?e:null==e?void 0:e[t]}function le(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,dataRef:c,events:l,elements:s}=e,{enabled:a=!0,delay:f=0,handleClose:d=null,mouseOnly:v=!1,restMs:m=0,move:g=!0}=t,h=ee(),y=$(),b=ue(d),E=ue(f),x=ue(n),R=o.useRef(),w=o.useRef(-1),k=o.useRef(),M=o.useRef(-1),I=o.useRef(!0),C=o.useRef(!1),T=o.useRef((()=>{})),O=o.useCallback((()=>{var e;const t=null==(e=c.current.openEvent)?void 0:e.type;return(null==t?void 0:t.includes("mouse"))&&"mousedown"!==t}),[c]);o.useEffect((()=>{if(a)return l.on("openchange",e),()=>{l.off("openchange",e)};function e(e){let{open:t}=e;t||(clearTimeout(w.current),clearTimeout(M.current),I.current=!0)}}),[a,l]),o.useEffect((()=>{if(!a)return;if(!b.current)return;if(!n)return;function e(e){O()&&r(!1,e,"hover")}const t=(0,u.Me)(s.floating).documentElement;return t.addEventListener("mouseleave",e),()=>{t.removeEventListener("mouseleave",e)}}),[s.floating,n,r,a,b,O]);const P=o.useCallback((function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n="hover");const o=ie(E.current,"close",R.current);o&&!k.current?(clearTimeout(w.current),w.current=window.setTimeout((()=>r(!1,e,n)),o)):t&&(clearTimeout(w.current),r(!1,e,n))}),[E,r]),L=p((()=>{T.current(),k.current=void 0})),A=p((()=>{if(C.current){const e=(0,u.Me)(s.floating).body;e.style.pointerEvents="",e.removeAttribute(ce),C.current=!1}}));o.useEffect((()=>{if(a&&(0,i.kK)(s.domReference)){var e;const t=s.domReference;return n&&t.addEventListener("mouseleave",f),null==(e=s.floating)||e.addEventListener("mouseleave",f),g&&t.addEventListener("mousemove",o,{once:!0}),t.addEventListener("mouseenter",o),t.addEventListener("mouseleave",l),()=>{var e;n&&t.removeEventListener("mouseleave",f),null==(e=s.floating)||e.removeEventListener("mouseleave",f),g&&t.removeEventListener("mousemove",o),t.removeEventListener("mouseenter",o),t.removeEventListener("mouseleave",l)}}function t(){return!!c.current.openEvent&&["click","mousedown"].includes(c.current.openEvent.type)}function o(e){if(clearTimeout(w.current),I.current=!1,v&&!(0,u.r)(R.current)||m>0&&!ie(E.current,"open"))return;const t=ie(E.current,"open",R.current);t?w.current=window.setTimeout((()=>{x.current||r(!0,e,"hover")}),t):r(!0,e,"hover")}function l(e){if(t())return;T.current();const r=(0,u.Me)(s.floating);if(clearTimeout(M.current),b.current&&c.current.floatingContext){n||clearTimeout(w.current),k.current=b.current({...c.current.floatingContext,tree:h,x:e.clientX,y:e.clientY,onClose(){A(),L(),P(e,!0,"safe-polygon")}});const t=k.current;return r.addEventListener("mousemove",t),void(T.current=()=>{r.removeEventListener("mousemove",t)})}("touch"!==R.current||!(0,u.r3)(s.floating,e.relatedTarget))&&P(e)}function f(e){t()||c.current.floatingContext&&(null==b.current||b.current({...c.current.floatingContext,tree:h,x:e.clientX,y:e.clientY,onClose(){A(),L(),P(e)}})(e))}}),[s,a,e,v,m,g,P,L,A,r,n,x,h,E,b,c]),S((()=>{var e;if(a&&n&&null!=(e=b.current)&&e.__options.blockPointerEvents&&O()){const e=(0,u.Me)(s.floating).body;e.setAttribute(ce,""),e.style.pointerEvents="none",C.current=!0;const n=s.floating;if((0,i.kK)(s.domReference)&&n){var t;const e=s.domReference,r=null==h||null==(t=h.nodesRef.current.find((e=>e.id===y)))||null==(t=t.context)?void 0:t.elements.floating;return r&&(r.style.pointerEvents=""),e.style.pointerEvents="auto",n.style.pointerEvents="auto",()=>{e.style.pointerEvents="",n.style.pointerEvents=""}}}}),[a,n,y,s,h,b,O]),S((()=>{n||(R.current=void 0,L(),A())}),[n,L,A]),o.useEffect((()=>()=>{L(),clearTimeout(w.current),clearTimeout(M.current),A()}),[a,s.domReference,L,A]);const D=o.useMemo((()=>{function e(e){R.current=e.pointerType}return{onPointerDown:e,onPointerEnter:e,onMouseMove(e){const{nativeEvent:t}=e;function o(){I.current||x.current||r(!0,t,"hover")}v&&!(0,u.r)(R.current)||n||0===m||(clearTimeout(M.current),"touch"===R.current?o():M.current=window.setTimeout(o,m))}}}),[v,r,n,x,m]),F=o.useMemo((()=>({onMouseEnter(){clearTimeout(w.current)},onMouseLeave(e){P(e.nativeEvent,!1)}})),[P]);return o.useMemo((()=>a?{reference:D,floating:F}:{}),[a,D,F])}const se=()=>{},ae=o.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:se,setState:se,isInstantPhase:!1}),fe=()=>o.useContext(ae);function de(e){const{children:t,delay:n,timeoutMs:r=0}=e,[u,c]=o.useReducer(((e,t)=>({...e,...t})),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),i=o.useRef(null),l=o.useCallback((e=>{c({currentId:e})}),[]);return S((()=>{u.currentId?null===i.current?i.current=u.currentId:u.isInstantPhase||c({isInstantPhase:!0}):(u.isInstantPhase&&c({isInstantPhase:!1}),i.current=null)}),[u.currentId,u.isInstantPhase]),o.createElement(ae.Provider,{value:o.useMemo((()=>({...u,setState:c,setCurrentId:l})),[u,l])},t)}function ve(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,floatingId:o}=e,{id:u}=t,c=null!=u?u:o,i=fe(),{currentId:l,setCurrentId:s,initialDelay:a,setState:f,timeoutMs:d}=i;return S((()=>{l&&(f({delay:{open:1,close:ie(a,"close")}}),l!==c&&r(!1))}),[c,r,f,l,a]),S((()=>{function e(){r(!1),f({delay:a,currentId:null})}if(l&&!n&&l===c){if(d){const t=window.setTimeout(e,d);return()=>{clearTimeout(t)}}e()}}),[n,f,l,c,r,a,d]),S((()=>{s!==se&&n&&s(c)}),[n,s,c]),i}function me(e,t){let n=e.filter((e=>{var n;return e.parentId===t&&(null==(n=e.context)?void 0:n.open)})),r=n;for(;r.length;)r=e.filter((e=>{var t;return null==(t=r)?void 0:t.some((t=>{var n;return e.parentId===t.id&&(null==(n=e.context)?void 0:n.open)}))})),n=n.concat(r);return n}let pe=new WeakMap,ge=new WeakSet,he={},ye=0;const be=()=>"undefined"!==typeof HTMLElement&&"inert"in HTMLElement.prototype,Ee=e=>e&&(e.host||Ee(e.parentNode)),xe=(e,t)=>t.map((t=>{if(e.contains(t))return t;const n=Ee(t);return e.contains(n)?n:null})).filter((e=>null!=e));function Re(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);const r=(0,u.Me)(e[0]).body;return function(e,t,n,r){const o="data-floating-ui-inert",u=r?"inert":n?"aria-hidden":null,c=xe(t,e),l=new Set,s=new Set(c),a=[];he[o]||(he[o]=new WeakMap);const f=he[o];return c.forEach((function e(t){t&&!l.has(t)&&(l.add(t),t.parentNode&&e(t.parentNode))})),function e(t){t&&!s.has(t)&&[].forEach.call(t.children,(t=>{if("script"!==(0,i.wk)(t))if(l.has(t))e(t);else{const e=u?t.getAttribute(u):null,n=null!==e&&"false"!==e,r=(pe.get(t)||0)+1,c=(f.get(t)||0)+1;pe.set(t,r),f.set(t,c),a.push(t),1===r&&n&&ge.add(t),1===c&&t.setAttribute(o,""),!n&&u&&t.setAttribute(u,"true")}}))}(t),l.clear(),ye++,()=>{a.forEach((e=>{const t=(pe.get(e)||0)-1,n=(f.get(e)||0)-1;pe.set(e,t),f.set(e,n),t||(!ge.has(e)&&u&&e.removeAttribute(u),ge.delete(e)),n||e.removeAttribute(o)})),ye--,ye||(pe=new WeakMap,pe=new WeakMap,ge=new WeakSet,he={})}}(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const we=()=>({getShadowRoot:!0,displayCheck:"function"===typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function ke(e,t){const n=(0,l.ht)(e,we());"prev"===t&&n.reverse();const r=n.indexOf((0,u.AW)((0,u.Me)(e)));return n.slice(r+1)[0]}function Me(){return ke(document.body,"next")}function Ie(){return ke(document.body,"prev")}function Ce(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!(0,u.r3)(n,r)}function Te(e){(0,l.ht)(e,we()).forEach((e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}))}function Oe(e){e.querySelectorAll("[data-tabindex]").forEach((e=>{const t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")}))}const Pe={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};function Le(e){"Tab"===e.key&&(e.target,clearTimeout(undefined))}const Se=o.forwardRef((function(e,t){const[n,r]=o.useState();S((()=>((0,u.G6)()&&r("button"),document.addEventListener("keydown",Le),()=>{document.removeEventListener("keydown",Le)})),[]);const c={ref:t,tabIndex:0,role:n,"aria-hidden":!n||void 0,[oe("focus-guard")]:"",style:Pe};return o.createElement("span",B({},e,c))})),Ae=o.createContext(null),De=oe("portal");function Fe(e){void 0===e&&(e={});const{id:t,root:n}=e,r=G(),u=Ne(),[c,l]=o.useState(null),s=o.useRef(null);return S((()=>()=>{null==c||c.remove(),queueMicrotask((()=>{s.current=null}))}),[c]),S((()=>{if(!r)return;if(s.current)return;const e=t?document.getElementById(t):null;if(!e)return;const n=document.createElement("div");n.id=r,n.setAttribute(De,""),e.appendChild(n),s.current=n,l(n)}),[t,r]),S((()=>{if(!r)return;if(s.current)return;let e=n||(null==u?void 0:u.portalNode);e&&!(0,i.kK)(e)&&(e=e.current),e=e||document.body;let o=null;t&&(o=document.createElement("div"),o.id=t,e.appendChild(o));const c=document.createElement("div");c.id=r,c.setAttribute(De,""),e=o||e,e.appendChild(c),s.current=c,l(c)}),[t,n,r,u]),c}function Ke(e){const{children:t,id:n,root:r=null,preserveTabOrder:u=!0}=e,c=Fe({id:n,root:r}),[i,l]=o.useState(null),a=o.useRef(null),f=o.useRef(null),d=o.useRef(null),v=o.useRef(null),m=!!i&&!i.modal&&i.open&&u&&!(!r&&!c);return o.useEffect((()=>{if(c&&u&&(null==i||!i.modal))return c.addEventListener("focusin",e,!0),c.addEventListener("focusout",e,!0),()=>{c.removeEventListener("focusin",e,!0),c.removeEventListener("focusout",e,!0)};function e(e){if(c&&Ce(e)){("focusin"===e.type?Oe:Te)(c)}}}),[c,u,null==i?void 0:i.modal]),o.createElement(Ae.Provider,{value:o.useMemo((()=>({preserveTabOrder:u,beforeOutsideRef:a,afterOutsideRef:f,beforeInsideRef:d,afterInsideRef:v,portalNode:c,setFocusManagerState:l})),[u,c])},m&&c&&o.createElement(Se,{"data-type":"outside",ref:a,onFocus:e=>{if(Ce(e,c)){var t;null==(t=d.current)||t.focus()}else{const e=Ie()||(null==i?void 0:i.refs.domReference.current);null==e||e.focus()}}}),m&&c&&o.createElement("span",{"aria-owns":c.id,style:Pe}),c&&s.createPortal(t,c),m&&c&&o.createElement(Se,{"data-type":"outside",ref:f,onFocus:e=>{if(Ce(e,c)){var t;null==(t=v.current)||t.focus()}else{const t=Me()||(null==i?void 0:i.refs.domReference.current);null==t||t.focus(),(null==i?void 0:i.closeOnFocusOut)&&(null==i||i.onOpenChange(!1,e.nativeEvent))}}}))}const Ne=()=>o.useContext(Ae),We=20;let _e=[];function Ue(e){_e=_e.filter((e=>e.isConnected));let t=e;if(t&&"body"!==(0,i.wk)(t)){if(!(0,l.Wq)(t,we())){const e=(0,l.ht)(t,we())[0];e&&(t=e)}_e.push(t),_e.length>We&&(_e=_e.slice(-We))}}function He(){return _e.slice().reverse().find((e=>e.isConnected))}const je=o.forwardRef((function(e,t){return o.createElement("button",B({},e,{type:"button",ref:t,tabIndex:-1,style:Pe}))}));function qe(e){const{context:t,children:n,disabled:r=!1,order:c=["content"],guards:s=!0,initialFocus:a=0,returnFocus:f=!0,restoreFocus:d=!1,modal:v=!0,visuallyHiddenDismiss:m=!1,closeOnFocusOut:g=!0}=e,{open:h,refs:y,nodeId:b,onOpenChange:E,events:x,dataRef:R,floatingId:w,elements:{domReference:k,floating:M}}=t,I="number"===typeof a&&a<0,C=(0,u.Ie)(k)&&I,T=!be()||s,O=ue(c),P=ue(a),A=ue(f),D=ee(),F=Ne(),K=o.useRef(null),N=o.useRef(null),W=o.useRef(!1),_=o.useRef(!1),U=o.useRef(-1),H=null!=F,j=null==M?void 0:M.firstElementChild,q=(null==j?void 0:j.id)===w?j:M,B=p((function(e){return void 0===e&&(e=q),e?(0,l.ht)(e,we()):[]})),z=p((e=>{const t=B(e);return O.current.map((e=>k&&"reference"===e?k:q&&"floating"===e?q:t)).filter(Boolean).flat()}));function X(e){return!r&&m&&v?o.createElement(je,{ref:"start"===e?K:N,onClick:e=>E(!1,e.nativeEvent)},"string"===typeof m?m:"Dismiss"):null}o.useEffect((()=>{if(r)return;if(!v)return;function e(e){if("Tab"===e.key){(0,u.r3)(q,(0,u.AW)((0,u.Me)(q)))&&0===B().length&&!C&&(0,u.p7)(e);const t=z(),n=(0,u.U9)(e);"reference"===O.current[0]&&n===k&&((0,u.p7)(e),e.shiftKey?L(t[t.length-1]):L(t[1])),"floating"===O.current[1]&&n===q&&e.shiftKey&&((0,u.p7)(e),L(t[0]))}}const t=(0,u.Me)(q);return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}}),[r,k,q,v,O,C,B,z]),o.useEffect((()=>{if(!r&&M)return M.addEventListener("focusin",e),()=>{M.removeEventListener("focusin",e)};function e(e){const t=(0,u.U9)(e),n=B().indexOf(t);-1!==n&&(U.current=n)}}),[r,M,B]),o.useEffect((()=>{if(!r&&g)return M&&(0,i.Re)(k)?(k.addEventListener("focusout",t),k.addEventListener("pointerdown",e),M.addEventListener("focusout",t),()=>{k.removeEventListener("focusout",t),k.removeEventListener("pointerdown",e),M.removeEventListener("focusout",t)}):void 0;function e(){_.current=!0,setTimeout((()=>{_.current=!1}))}function t(e){const t=e.relatedTarget;queueMicrotask((()=>{const n=!((0,u.r3)(k,t)||(0,u.r3)(M,t)||(0,u.r3)(t,M)||(0,u.r3)(null==F?void 0:F.portalNode,t)||null!=t&&t.hasAttribute(oe("focus-guard"))||D&&(me(D.nodesRef.current,b).find((e=>{var n,r;return(0,u.r3)(null==(n=e.context)?void 0:n.elements.floating,t)||(0,u.r3)(null==(r=e.context)?void 0:r.elements.domReference,t)}))||function(e,t){var n;let r=[],o=null==(n=e.find((e=>e.id===t)))?void 0:n.parentId;for(;o;){const t=e.find((e=>e.id===o));o=null==t?void 0:t.parentId,t&&(r=r.concat(t))}return r}(D.nodesRef.current,b).find((e=>{var n,r;return(null==(n=e.context)?void 0:n.elements.floating)===t||(null==(r=e.context)?void 0:r.elements.domReference)===t}))));if(d&&n&&(0,u.AW)((0,u.Me)(q))===(0,u.Me)(q).body){(0,i.Re)(q)&&(null==q||q.focus());const e=U.current,t=B(),n=t[e]||t[t.length-1]||q;(0,i.Re)(n)&&n.focus()}!C&&v||!t||!n||_.current||t===He()||(W.current=!0,E(!1,e))}))}}),[r,k,M,q,v,b,D,F,E,g,d,B,C]),o.useEffect((()=>{var e;if(r)return;const t=Array.from((null==F||null==(e=F.portalNode)?void 0:e.querySelectorAll("["+oe("portal")+"]"))||[]);if(M){const e=[M,...t,K.current,N.current,O.current.includes("reference")||C?k:null].filter((e=>null!=e)),n=v||C?Re(e,T,!T):Re(e);return()=>{n()}}}),[r,k,M,v,O,F,C,T]),S((()=>{if(r||!(0,i.Re)(q))return;const e=(0,u.Me)(q),t=(0,u.AW)(e);queueMicrotask((()=>{const e=z(q),n=P.current,r=("number"===typeof n?e[n]:n.current)||q,o=(0,u.r3)(q,t);I||o||!h||L(r,{preventScroll:r===q})}))}),[r,h,q,I,z,P]),S((()=>{if(r||!q)return;let e=!1;const t=(0,u.Me)(q),n=(0,u.AW)(t);let o=R.current.openEvent;const c=y.domReference.current;function s(t){let{open:n,reason:r,event:c,nested:i}=t;n&&(o=c),"escape-key"===r&&y.domReference.current&&Ue(y.domReference.current),"hover"===r&&"mouseleave"===c.type&&(W.current=!0),"outside-press"===r&&(i?(W.current=!1,e=!0):W.current=!((0,u.Zj)(c)||(0,u.cr)(c)))}return Ue(n),x.on("openchange",s),()=>{x.off("openchange",s);const r=(0,u.AW)(t),a=(0,u.r3)(M,r)||D&&me(D.nodesRef.current,b).some((e=>{var t;return(0,u.r3)(null==(t=e.context)?void 0:t.elements.floating,r)}));(a||o&&["click","mousedown"].includes(o.type))&&y.domReference.current&&Ue(y.domReference.current);const f=c||n,d=(0,l.ht)((0,u.Me)(f).body,we());queueMicrotask((()=>{let n=He();!n&&(0,i.Re)(f)&&M&&(n=function(e,t,n){const r=e.indexOf(t);function o(t){const o=oe("focus-guard");let c=r+(t?1:0),i=e[c];for(;i&&(!i.isConnected||i.hasAttribute(o)||(0,u.r3)(n,i));)t?c++:c--,i=e[c];return i}return o(!0)||o(!1)}(d,f,M)),A.current&&!W.current&&(0,i.Re)(n)&&(n===r||r===t.body||a)&&n.focus({preventScroll:e})}))}}),[r,M,q,A,R,y,x,D,b]),S((()=>{if(!r&&F)return F.setFocusManagerState({modal:v,closeOnFocusOut:g,open:h,onOpenChange:E,refs:y}),()=>{F.setFocusManagerState(null)}}),[r,F,v,h,E,y,g]),S((()=>{if(r)return;if(!q)return;if("function"!==typeof MutationObserver)return;if(I)return;const e=()=>{const e=q.getAttribute("tabindex"),t=B(),n=(0,u.AW)((0,u.Me)(M)),r=t.indexOf(n);-1!==r&&(U.current=r),O.current.includes("floating")||n!==y.domReference.current&&0===t.length?"0"!==e&&q.setAttribute("tabindex","0"):"-1"!==e&&q.setAttribute("tabindex","-1")};e();const t=new MutationObserver(e);return t.observe(q,{childList:!0,subtree:!0,attributes:!0}),()=>{t.disconnect()}}),[r,M,q,y,O,B,I]);const Y=!r&&T&&(!v||!C)&&(H||v);return o.createElement(o.Fragment,null,Y&&o.createElement(Se,{"data-type":"inside",ref:null==F?void 0:F.beforeInsideRef,onFocus:e=>{if(v){const e=z();L("reference"===c[0]?e[0]:e[e.length-1])}else if(null!=F&&F.preserveTabOrder&&F.portalNode)if(W.current=!1,Ce(e,F.portalNode)){const e=Me()||k;null==e||e.focus()}else{var t;null==(t=F.beforeOutsideRef.current)||t.focus()}}}),!C&&X("start"),n,X("end"),Y&&o.createElement(Se,{"data-type":"inside",ref:null==F?void 0:F.afterInsideRef,onFocus:e=>{if(v)L(z()[0]);else if(null!=F&&F.preserveTabOrder&&F.portalNode)if(g&&(W.current=!0),Ce(e,F.portalNode)){const e=Ie()||k;null==e||e.focus()}else{var t;null==(t=F.afterOutsideRef.current)||t.focus()}}}))}const Be=new Set,ze=o.forwardRef((function(e,t){const{lockScroll:n=!1,...r}=e,c=G();return S((()=>{if(!n)return;Be.add(c);const e=/iP(hone|ad|od)|iOS/.test((0,u.Xf)()),t=document.body.style,r=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",o=window.innerWidth-document.documentElement.clientWidth,i=t.left?parseFloat(t.left):window.scrollX,l=t.top?parseFloat(t.top):window.scrollY;if(t.overflow="hidden",o&&(t[r]=o+"px"),e){var s,a;const e=(null==(s=window.visualViewport)?void 0:s.offsetLeft)||0,n=(null==(a=window.visualViewport)?void 0:a.offsetTop)||0;Object.assign(t,{position:"fixed",top:-(l-Math.floor(n))+"px",left:-(i-Math.floor(e))+"px",right:"0"})}return()=>{Be.delete(c),0===Be.size&&(Object.assign(t,{overflow:"",[r]:""}),e&&(Object.assign(t,{position:"",top:"",left:"",right:""}),window.scrollTo(i,l)))}}),[c,n]),o.createElement("div",B({ref:t},r,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...r.style}}))}));function Xe(e){return(0,i.Re)(e.target)&&"BUTTON"===e.target.tagName}function Ye(e){return(0,u.j7)(e)}function Ge(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,dataRef:c,elements:{domReference:i}}=e,{enabled:l=!0,event:s="click",toggle:a=!0,ignoreMouse:f=!1,keyboardHandlers:d=!0}=t,v=o.useRef(),m=o.useRef(!1),p=o.useMemo((()=>({onPointerDown(e){v.current=e.pointerType},onMouseDown(e){const t=v.current;0===e.button&&"click"!==s&&((0,u.r)(t,!0)&&f||(!n||!a||c.current.openEvent&&"mousedown"!==c.current.openEvent.type?(e.preventDefault(),r(!0,e.nativeEvent,"click")):r(!1,e.nativeEvent,"click")))},onClick(e){const t=v.current;"mousedown"===s&&v.current?v.current=void 0:(0,u.r)(t,!0)&&f||(!n||!a||c.current.openEvent&&"click"!==c.current.openEvent.type?r(!0,e.nativeEvent,"click"):r(!1,e.nativeEvent,"click"))},onKeyDown(e){v.current=void 0,e.defaultPrevented||!d||Xe(e)||(" "!==e.key||Ye(i)||(e.preventDefault(),m.current=!0),"Enter"===e.key&&r(!n||!a,e.nativeEvent,"click"))},onKeyUp(e){e.defaultPrevented||!d||Xe(e)||Ye(i)||" "===e.key&&m.current&&(m.current=!1,r(!n||!a,e.nativeEvent,"click"))}})),[c,i,s,f,d,r,n,a]);return o.useMemo((()=>l?{reference:p}:{}),[l,p])}function Ve(e){return null!=e&&null!=e.clientX}function Ze(e,t){void 0===t&&(t={});const{open:n,dataRef:r,elements:{floating:c,domReference:l},refs:s}=e,{enabled:a=!0,axis:f="both",x:d=null,y:v=null}=t,m=o.useRef(!1),g=o.useRef(null),[h,y]=o.useState(),[b,E]=o.useState([]),x=p(((e,t)=>{m.current||r.current.openEvent&&!Ve(r.current.openEvent)||s.setPositionReference(function(e,t){let n=null,r=null,o=!1;return{contextElement:e||void 0,getBoundingClientRect(){var u;const c=(null==e?void 0:e.getBoundingClientRect())||{width:0,height:0,x:0,y:0},i="x"===t.axis||"both"===t.axis,l="y"===t.axis||"both"===t.axis,s=["mouseenter","mousemove"].includes((null==(u=t.dataRef.current.openEvent)?void 0:u.type)||"")&&"touch"!==t.pointerType;let a=c.width,f=c.height,d=c.x,v=c.y;return null==n&&t.x&&i&&(n=c.x-t.x),null==r&&t.y&&l&&(r=c.y-t.y),d-=n||0,v-=r||0,a=0,f=0,!o||s?(a="y"===t.axis?c.width:0,f="x"===t.axis?c.height:0,d=i&&null!=t.x?t.x:d,v=l&&null!=t.y?t.y:v):o&&!s&&(f="x"===t.axis?c.height:f,a="y"===t.axis?c.width:a),o=!0,{width:a,height:f,x:d,y:v,top:v,right:d+a,bottom:v+f,left:d}}}}(l,{x:e,y:t,axis:f,dataRef:r,pointerType:h}))})),R=p((e=>{null==d&&null==v&&(n?g.current||E([]):x(e.clientX,e.clientY))})),w=(0,u.r)(h)?c:n,k=o.useCallback((()=>{if(!w||!a||null!=d||null!=v)return;const e=(0,i.Jj)(c);function t(n){const r=(0,u.U9)(n);(0,u.r3)(c,r)?(e.removeEventListener("mousemove",t),g.current=null):x(n.clientX,n.clientY)}if(!r.current.openEvent||Ve(r.current.openEvent)){e.addEventListener("mousemove",t);const n=()=>{e.removeEventListener("mousemove",t),g.current=null};return g.current=n,n}s.setPositionReference(l)}),[w,a,d,v,c,r,s,l,x]);o.useEffect((()=>k()),[k,b]),o.useEffect((()=>{a&&!c&&(m.current=!1)}),[a,c]),o.useEffect((()=>{!a&&n&&(m.current=!0)}),[a,n]),S((()=>{!a||null==d&&null==v||(m.current=!1,x(d,v))}),[a,d,v,x]);const M=o.useMemo((()=>{function e(e){let{pointerType:t}=e;y(t)}return{onPointerDown:e,onPointerEnter:e,onMouseMove:R,onMouseEnter:R}}),[R]);return o.useMemo((()=>a?{reference:M}:{}),[a,M])}const Je={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Qe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},$e=e=>{var t,n;return{escapeKey:"boolean"===typeof e?e:null!=(t=null==e?void 0:e.escapeKey)&&t,outsidePress:"boolean"===typeof e?e:null==(n=null==e?void 0:e.outsidePress)||n}};function et(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,elements:c,dataRef:l}=e,{enabled:s=!0,escapeKey:a=!0,outsidePress:f=!0,outsidePressEvent:d="pointerdown",referencePress:v=!1,referencePressEvent:m="pointerdown",ancestorScroll:g=!1,bubbles:h,capture:y}=t,b=ee(),E=p("function"===typeof f?f:()=>!1),x="function"===typeof f?E:f,R=o.useRef(!1),w=o.useRef(!1),{escapeKey:k,outsidePress:M}=$e(h),{escapeKey:I,outsidePress:C}=$e(y),T=p((e=>{var t;if(!n||!s||!a||"Escape"!==e.key)return;const o=null==(t=l.current.floatingContext)?void 0:t.nodeId,c=b?me(b.nodesRef.current,o):[];if(!k&&(e.stopPropagation(),c.length>0)){let e=!0;if(c.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__escapeKeyBubbles||(e=!1)})),!e)return}r(!1,(0,u.MM)(e)?e.nativeEvent:e,"escape-key")})),O=p((e=>{var t;const n=()=>{var t;T(e),null==(t=(0,u.U9)(e))||t.removeEventListener("keydown",n)};null==(t=(0,u.U9)(e))||t.addEventListener("keydown",n)})),P=p((e=>{var t;const n=R.current;R.current=!1;const o=w.current;if(w.current=!1,"click"===d&&o)return;if(n)return;if("function"===typeof x&&!x(e))return;const s=(0,u.U9)(e),a="["+oe("inert")+"]",f=(0,u.Me)(c.floating).querySelectorAll(a);let v=(0,i.kK)(s)?s:null;for(;v&&!(0,i.Py)(v);){const e=(0,i.Ow)(v);if((0,i.Py)(e)||!(0,i.kK)(e))break;v=e}if(f.length&&(0,i.kK)(s)&&!(0,u.ex)(s)&&!(0,u.r3)(s,c.floating)&&Array.from(f).every((e=>!(0,u.r3)(v,e))))return;if((0,i.Re)(s)&&A){const t=s.clientWidth>0&&s.scrollWidth>s.clientWidth,n=s.clientHeight>0&&s.scrollHeight>s.clientHeight;let r=n&&e.offsetX>s.clientWidth;if(n){"rtl"===(0,i.Dx)(s).direction&&(r=e.offsetX<=s.offsetWidth-s.clientWidth)}if(r||t&&e.offsetY>s.clientHeight)return}const m=null==(t=l.current.floatingContext)?void 0:t.nodeId,p=b&&me(b.nodesRef.current,m).some((t=>{var n;return(0,u.Pe)(e,null==(n=t.context)?void 0:n.elements.floating)}));if((0,u.Pe)(e,c.floating)||(0,u.Pe)(e,c.domReference)||p)return;const g=b?me(b.nodesRef.current,m):[];if(g.length>0){let e=!0;if(g.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__outsidePressBubbles||(e=!1)})),!e)return}r(!1,e,"outside-press")})),L=p((e=>{var t;const n=()=>{var t;P(e),null==(t=(0,u.U9)(e))||t.removeEventListener(d,n)};null==(t=(0,u.U9)(e))||t.addEventListener(d,n)}));o.useEffect((()=>{if(!n||!s)return;function e(e){r(!1,e,"ancestor-scroll")}l.current.__escapeKeyBubbles=k,l.current.__outsidePressBubbles=M;const t=(0,u.Me)(c.floating);a&&t.addEventListener("keydown",I?O:T,I),x&&t.addEventListener(d,C?L:P,C);let o=[];return g&&((0,i.kK)(c.domReference)&&(o=(0,i.Kx)(c.domReference)),(0,i.kK)(c.floating)&&(o=o.concat((0,i.Kx)(c.floating))),!(0,i.kK)(c.reference)&&c.reference&&c.reference.contextElement&&(o=o.concat((0,i.Kx)(c.reference.contextElement)))),o=o.filter((e=>{var n;return e!==(null==(n=t.defaultView)?void 0:n.visualViewport)})),o.forEach((t=>{t.addEventListener("scroll",e,{passive:!0})})),()=>{a&&t.removeEventListener("keydown",I?O:T,I),x&&t.removeEventListener(d,C?L:P,C),o.forEach((t=>{t.removeEventListener("scroll",e)}))}}),[l,c,a,x,d,n,r,g,s,k,M,T,I,O,P,C,L]),o.useEffect((()=>{R.current=!1}),[x,d]);const S=o.useMemo((()=>({onKeyDown:T,[Je[m]]:e=>{v&&r(!1,e.nativeEvent,"reference-press")}})),[T,r,v,m]),A=o.useMemo((()=>({onKeyDown:T,onMouseDown(){w.current=!0},onMouseUp(){w.current=!0},[Qe[d]]:()=>{R.current=!0}})),[T,d]);return o.useMemo((()=>s?{reference:S,floating:A}:{}),[s,S,A])}function tt(e){const{open:t=!1,onOpenChange:n,elements:r}=e,u=G(),c=o.useRef({}),[i]=o.useState((()=>Z())),l=null!=$();const[s,a]=o.useState(r.reference),f=p(((e,t,r)=>{c.current.openEvent=e?t:void 0,i.emit("openchange",{open:e,event:t,reason:r,nested:l}),null==n||n(e,t,r)})),d=o.useMemo((()=>({setPositionReference:a})),[]),v=o.useMemo((()=>({reference:s||r.reference||null,floating:r.floating||null,domReference:r.reference})),[s,r.reference,r.floating]);return o.useMemo((()=>({dataRef:c,open:t,onOpenChange:f,elements:v,events:i,floatingId:u,refs:d})),[t,f,v,i,u,d])}function nt(e){void 0===e&&(e={});const{nodeId:t}=e,n=tt({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,u=r.elements,[c,l]=o.useState(null),[s,f]=o.useState(null),d=(null==u?void 0:u.reference)||c,v=o.useRef(null),m=ee();S((()=>{d&&(v.current=d)}),[d]);const p=(0,a.YF)({...e,elements:{...u,...s&&{reference:s}}}),g=o.useCallback((e=>{const t=(0,i.kK)(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;f(t),p.refs.setReference(t)}),[p.refs]),h=o.useCallback((e=>{((0,i.kK)(e)||null===e)&&(v.current=e,l(e)),((0,i.kK)(p.refs.reference.current)||null===p.refs.reference.current||null!==e&&!(0,i.kK)(e))&&p.refs.setReference(e)}),[p.refs]),y=o.useMemo((()=>({...p.refs,setReference:h,setPositionReference:g,domReference:v})),[p.refs,h,g]),b=o.useMemo((()=>({...p.elements,domReference:d})),[p.elements,d]),E=o.useMemo((()=>({...p,...r,refs:y,elements:b,nodeId:t})),[p,y,b,t,r]);return S((()=>{r.dataRef.current.floatingContext=E;const e=null==m?void 0:m.nodesRef.current.find((e=>e.id===t));e&&(e.context=E)})),o.useMemo((()=>({...p,context:E,refs:y,elements:b})),[p,y,b,E])}function rt(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,events:c,dataRef:l,elements:s}=e,{enabled:a=!0,visibleOnly:f=!0}=t,d=o.useRef(!1),v=o.useRef(),m=o.useRef(!0);o.useEffect((()=>{if(!a)return;const e=(0,i.Jj)(s.domReference);function t(){!n&&(0,i.Re)(s.domReference)&&s.domReference===(0,u.AW)((0,u.Me)(s.domReference))&&(d.current=!0)}function r(){m.current=!0}return e.addEventListener("blur",t),e.addEventListener("keydown",r,!0),()=>{e.removeEventListener("blur",t),e.removeEventListener("keydown",r,!0)}}),[s.domReference,n,a]),o.useEffect((()=>{if(a)return c.on("openchange",e),()=>{c.off("openchange",e)};function e(e){let{reason:t}=e;"reference-press"!==t&&"escape-key"!==t||(d.current=!0)}}),[c,a]),o.useEffect((()=>()=>{clearTimeout(v.current)}),[]);const p=o.useMemo((()=>({onPointerDown(e){(0,u.cr)(e.nativeEvent)||(m.current=!1)},onMouseLeave(){d.current=!1},onFocus(e){if(d.current)return;const t=(0,u.U9)(e.nativeEvent);if(f&&(0,i.kK)(t))try{if((0,u.G6)()&&(0,u.V5)())throw Error();if(!t.matches(":focus-visible"))return}catch(n){if(!m.current&&!(0,u.j7)(t))return}r(!0,e.nativeEvent,"focus")},onBlur(e){d.current=!1;const t=e.relatedTarget,n=e.nativeEvent,o=(0,i.kK)(t)&&t.hasAttribute(oe("focus-guard"))&&"outside"===t.getAttribute("data-type");v.current=window.setTimeout((()=>{var e;const c=(0,u.AW)(s.domReference?s.domReference.ownerDocument:document);(t||c!==s.domReference)&&((0,u.r3)(null==(e=l.current.floatingContext)?void 0:e.refs.floating.current,c)||(0,u.r3)(s.domReference,c)||o||r(!1,n,"focus"))}))}})),[l,s.domReference,r,f]);return o.useMemo((()=>a?{reference:p}:{}),[a,p])}const ot="active",ut="selected";function ct(e,t,n){const r=new Map,o="item"===n;let u=e;if(o&&e){const{[ot]:t,[ut]:n,...r}=e;u=r}return{..."floating"===n&&{tabIndex:-1},...u,...t.map((t=>{const r=t?t[n]:null;return"function"===typeof r?e?r(e):null:r})).concat(e).reduce(((e,t)=>t?(Object.entries(t).forEach((t=>{let[n,u]=t;var c;o&&[ot,ut].includes(n)||(0===n.indexOf("on")?(r.has(n)||r.set(n,[]),"function"===typeof u&&(null==(c=r.get(n))||c.push(u),e[n]=function(){for(var e,t=arguments.length,o=new Array(t),u=0;u<t;u++)o[u]=arguments[u];return null==(e=r.get(n))?void 0:e.map((e=>e(...o))).find((e=>void 0!==e))})):e[n]=u)})),e):e),{})}}function it(e){void 0===e&&(e=[]);const t=e.map((e=>null==e?void 0:e.reference)),n=e.map((e=>null==e?void 0:e.floating)),r=e.map((e=>null==e?void 0:e.item)),u=o.useCallback((t=>ct(t,e,"reference")),t),c=o.useCallback((t=>ct(t,e,"floating")),n),i=o.useCallback((t=>ct(t,e,"item")),r);return o.useMemo((()=>({getReferenceProps:u,getFloatingProps:c,getItemProps:i})),[u,c,i])}let lt=!1;function st(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function at(e,t){return st(t,e===g||e===h,e===y||e===b)}function ft(e,t,n){return st(t,e===h,n?e===y:e===b)||"Enter"===e||" "===e||""===e}function dt(e,t,n){return st(t,n?e===b:e===y,e===g)}function vt(e,t){const{open:n,onOpenChange:r,elements:c}=e,{listRef:l,activeIndex:s,onNavigate:a=(()=>{}),enabled:f=!0,selectedIndex:d=null,allowEscape:v=!1,loop:m=!1,nested:g=!1,rtl:E=!1,virtual:P=!1,focusItemOnOpen:A="auto",focusItemOnHover:D=!0,openOnArrowKeyDown:F=!0,disabledIndices:K,orientation:N="vertical",cols:W=1,scrollItemIntoView:_=!0,virtualItemRef:U,itemSizes:H,dense:j=!1}=t;const q=$(),B=ee(),z=p(a),X=o.useRef(A),Y=o.useRef(null!=d?d:-1),G=o.useRef(null),V=o.useRef(!0),Z=o.useRef(z),J=o.useRef(!!c.floating),Q=o.useRef(n),te=o.useRef(!1),ne=o.useRef(!1),re=ue(K),oe=ue(n),ce=ue(_),ie=ue(c.floating),le=ue(d),[se,ae]=o.useState(),[fe,de]=o.useState(),ve=p((function(e,t,n){function r(e){P?(ae(e.id),null==B||B.events.emit("virtualfocus",e),U&&(U.current=e)):L(e,{preventScroll:!0,sync:!(!(0,u.V5)()||!(0,u.G6)())&&(lt||te.current)})}void 0===n&&(n=!1);const o=e.current[t.current];o&&r(o),requestAnimationFrame((()=>{const u=e.current[t.current]||o;if(!u)return;o||r(u);const c=ce.current;c&&ge&&(n||!V.current)&&(null==u.scrollIntoView||u.scrollIntoView("boolean"===typeof c?{block:"nearest",inline:"nearest"}:c))}))}));S((()=>{document.createElement("div").focus({get preventScroll(){return lt=!0,!1}})}),[]),S((()=>{f&&(n&&c.floating?X.current&&null!=d&&(ne.current=!0,Y.current=d,z(d)):J.current&&(Y.current=-1,Z.current(null)))}),[f,n,c.floating,d,z]),S((()=>{if(f&&n&&c.floating)if(null==s){if(te.current=!1,null!=le.current)return;if(J.current&&(Y.current=-1,ve(l,Y)),(!Q.current||!J.current)&&X.current&&(null!=G.current||!0===X.current&&null==G.current)){let e=0;const t=()=>{if(null==l.current[0]){if(e<2){(e?requestAnimationFrame:queueMicrotask)(t)}e++}else Y.current=null==G.current||ft(G.current,N,E)||g?R(l,re.current):w(l,re.current),G.current=null,z(Y.current)};t()}}else x(l,s)||(Y.current=s,ve(l,Y,ne.current),ne.current=!1)}),[f,n,c.floating,s,le,g,l,N,E,z,ve,re]),S((()=>{var e;if(!f||c.floating||!B||P||!J.current)return;const t=B.nodesRef.current,n=null==(e=t.find((e=>e.id===q)))||null==(e=e.context)?void 0:e.elements.floating,r=(0,u.AW)((0,u.Me)(c.floating)),o=t.some((e=>e.context&&(0,u.r3)(e.context.elements.floating,r)));n&&!o&&V.current&&n.focus({preventScroll:!0})}),[f,c.floating,B,q,P]),S((()=>{if(f&&B&&P&&!q)return B.events.on("virtualfocus",e),()=>{B.events.off("virtualfocus",e)};function e(e){de(e.id),U&&(U.current=e)}}),[f,B,P,q,U]),S((()=>{Z.current=z,J.current=!!c.floating})),S((()=>{n||(G.current=null)}),[n]),S((()=>{Q.current=n}),[n]);const pe=null!=s,ge=o.useMemo((()=>{function e(e){if(!n)return;const t=l.current.indexOf(e);-1!==t&&z(t)}return{onFocus(t){let{currentTarget:n}=t;e(n)},onClick:e=>{let{currentTarget:t}=e;return t.focus({preventScroll:!0})},...D&&{onMouseMove(t){let{currentTarget:n}=t;e(n)},onPointerLeave(e){let{pointerType:t}=e;V.current&&"touch"!==t&&(Y.current=-1,ve(l,Y),z(null),P||L(ie.current,{preventScroll:!0}))}}}}),[n,ie,ve,D,l,z,P]),he=p((e=>{if(V.current=!1,te.current=!0,!oe.current&&e.currentTarget===ie.current)return;if(g&&dt(e.key,N,E))return(0,u.p7)(e),r(!1,e.nativeEvent,"list-navigation"),void((0,i.Re)(c.domReference)&&!P&&c.domReference.focus());const t=Y.current,o=R(l,K),s=w(l,K);if("Home"===e.key&&((0,u.p7)(e),Y.current=o,z(Y.current)),"End"===e.key&&((0,u.p7)(e),Y.current=s,z(Y.current)),W>1){const t=H||Array.from({length:l.current.length},(()=>({width:1,height:1}))),n=I(t,W,j),r=n.findIndex((e=>null!=e&&!O(l.current,e,K))),u=n.reduce(((e,t,n)=>null==t||O(l.current,t,K)?e:n),-1);if(Y.current=n[M({current:n.map((e=>null!=e?l.current[e]:null))},{event:e,orientation:N,loop:m,cols:W,disabledIndices:T([...K||l.current.map(((e,t)=>O(l.current,t)?t:void 0)),void 0],n),minIndex:r,maxIndex:u,prevIndex:C(Y.current>s?o:Y.current,t,n,W,e.key===h?"bl":e.key===b?"tr":"tl"),stopEvent:!0})],z(Y.current),"both"===N)return}if(at(e.key,N)){if((0,u.p7)(e),n&&!P&&(0,u.AW)(e.currentTarget.ownerDocument)===e.currentTarget)return Y.current=ft(e.key,N,E)?o:s,void z(Y.current);ft(e.key,N,E)?Y.current=m?t>=s?v&&t!==l.current.length?-1:o:k(l,{startingIndex:t,disabledIndices:K}):Math.min(s,k(l,{startingIndex:t,disabledIndices:K})):Y.current=m?t<=o?v&&-1!==t?l.current.length:s:k(l,{startingIndex:t,decrement:!0,disabledIndices:K}):Math.max(o,k(l,{startingIndex:t,decrement:!0,disabledIndices:K})),x(l,Y.current)?z(null):z(Y.current)}})),ye=o.useMemo((()=>P&&n&&pe&&{"aria-activedescendant":fe||se}),[P,n,pe,fe,se]),be=o.useMemo((()=>({"aria-orientation":"both"===N?void 0:N,...!(0,u.Ie)(c.domReference)&&ye,onKeyDown:he,onPointerMove(){V.current=!0}})),[ye,he,c.domReference,N]),Ee=o.useMemo((()=>{function e(e){"auto"===A&&(0,u.Zj)(e.nativeEvent)&&(X.current=!0)}return{...ye,onKeyDown(e){V.current=!1;const t=0===e.key.indexOf("Arrow"),o=function(e,t,n){return st(t,n?e===y:e===b,e===h)}(e.key,N,E),c=dt(e.key,N,E),i=at(e.key,N),s=(g?o:i)||"Enter"===e.key||""===e.key.trim();if(P&&n){const n=null==B?void 0:B.nodesRef.current.find((e=>null==e.parentId)),r=B&&n?function(e,t){let n,r=-1;return function t(o,u){u>r&&(n=o,r=u),me(e,o).forEach((e=>{t(e.id,u+1)}))}(t,0),e.find((e=>e.id===n))}(B.nodesRef.current,n.id):null;if(t&&r&&U){const t=new KeyboardEvent("keydown",{key:e.key,bubbles:!0});if(o||c){var a,f;const n=(null==(a=r.context)?void 0:a.elements.domReference)===e.currentTarget,i=c&&!n?null==(f=r.context)?void 0:f.elements.domReference:o?l.current.find((e=>(null==e?void 0:e.id)===se)):null;i&&((0,u.p7)(e),i.dispatchEvent(t),de(void 0))}var v;if(i&&r.context)if(r.context.open&&r.parentId&&e.currentTarget!==r.context.elements.domReference)return(0,u.p7)(e),void(null==(v=r.context.elements.domReference)||v.dispatchEvent(t))}return he(e)}(n||F||!t)&&(s&&(G.current=g&&i?null:e.key),g?o&&((0,u.p7)(e),n?(Y.current=R(l,re.current),z(Y.current)):r(!0,e.nativeEvent,"list-navigation")):i&&(null!=d&&(Y.current=d),(0,u.p7)(e),!n&&F?r(!0,e.nativeEvent,"list-navigation"):he(e),n&&z(Y.current)))},onFocus(){n&&!P&&z(null)},onPointerDown:function(e){X.current=A,"auto"===A&&(0,u.cr)(e.nativeEvent)&&(X.current=!0)},onMouseDown:e,onClick:e}}),[se,ye,he,re,A,l,g,z,r,n,F,N,E,d,B,P,U]);return o.useMemo((()=>f?{reference:Ee,floating:be,item:ge}:{}),[f,Ee,be,ge])}const mt=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function pt(e,t){var n;void 0===t&&(t={});const{open:r,floatingId:u}=e,{enabled:c=!0,role:i="dialog"}=t,l=null!=(n=mt.get(i))?n:i,s=G(),a=null!=$(),f=o.useMemo((()=>"tooltip"===l||"label"===i?{["aria-"+("label"===i?"labelledby":"describedby")]:r?u:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":"alertdialog"===l?"dialog":l,"aria-controls":r?u:void 0,..."listbox"===l&&{role:"combobox"},..."menu"===l&&{id:s},..."menu"===l&&a&&{role:"menuitem"},..."select"===i&&{"aria-autocomplete":"none"},..."combobox"===i&&{"aria-autocomplete":"list"}}),[l,u,a,r,s,i]),d=o.useMemo((()=>{const e={id:u,...l&&{role:l}};return"tooltip"===l||"label"===i?e:{...e,..."menu"===l&&{"aria-labelledby":s}}}),[l,u,s,i]),v=o.useCallback((e=>{let{active:t,selected:n}=e;const r={role:"option",...t&&{id:u+"-option"}};switch(i){case"select":return{...r,"aria-selected":t&&n};case"combobox":return{...r,...t&&{"aria-selected":!0}}}return{}}),[u,i]);return o.useMemo((()=>c?{reference:f,floating:d,item:v}:{}),[c,f,d,v])}const gt=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,((e,t)=>(t?"-":"")+e.toLowerCase()));function ht(e,t){return"function"===typeof e?e(t):e}function yt(e,t){void 0===t&&(t={});const{open:n,elements:{floating:r}}=e,{duration:u=250}=t,c=("number"===typeof u?u:u.close)||0,[i,l]=o.useState("unmounted"),s=function(e,t){const[n,r]=o.useState(e);return e&&!n&&r(!0),o.useEffect((()=>{if(!e&&n){const e=setTimeout((()=>r(!1)),t);return()=>clearTimeout(e)}}),[e,n,t]),n}(n,c);return s||"close"!==i||l("unmounted"),S((()=>{if(r){if(n){l("initial");const e=requestAnimationFrame((()=>{l("open")}));return()=>{cancelAnimationFrame(e)}}l("close")}}),[n,r]),{isMounted:s,status:i}}function bt(e,t){void 0===t&&(t={});const{initial:n={opacity:0},open:r,close:u,common:c,duration:i=250}=t,l=e.placement,s=l.split("-")[0],a=o.useMemo((()=>({side:s,placement:l})),[s,l]),f="number"===typeof i,d=(f?i:i.open)||0,v=(f?i:i.close)||0,[m,p]=o.useState((()=>({...ht(c,a),...ht(n,a)}))),{isMounted:g,status:h}=yt(e,{duration:i}),y=ue(n),b=ue(r),E=ue(u),x=ue(c);return S((()=>{const e=ht(y.current,a),t=ht(E.current,a),n=ht(x.current,a),r=ht(b.current,a)||Object.keys(e).reduce(((e,t)=>(e[t]="",e)),{});if("initial"===h&&p((t=>({transitionProperty:t.transitionProperty,...n,...e}))),"open"===h&&p({transitionProperty:Object.keys(r).map(gt).join(","),transitionDuration:d+"ms",...n,...r}),"close"===h){const r=t||e;p({transitionProperty:Object.keys(r).map(gt).join(","),transitionDuration:v+"ms",...n,...r})}}),[v,E,y,b,x,d,h,a]),{isMounted:g,styles:m}}function Et(e,t){var n;const{open:r,dataRef:c}=e,{listRef:i,activeIndex:l,onMatch:s,onTypingChange:a,enabled:f=!0,findMatch:d=null,resetMs:v=750,ignoreKeys:m=[],selectedIndex:g=null}=t,h=o.useRef(),y=o.useRef(""),b=o.useRef(null!=(n=null!=g?g:l)?n:-1),E=o.useRef(null),x=p(s),R=p(a),w=ue(d),k=ue(m);S((()=>{r&&(clearTimeout(h.current),E.current=null,y.current="")}),[r]),S((()=>{var e;r&&""===y.current&&(b.current=null!=(e=null!=g?g:l)?e:-1)}),[r,g,l]);const M=p((e=>{e?c.current.typing||(c.current.typing=e,R(e)):c.current.typing&&(c.current.typing=e,R(e))})),I=p((e=>{function t(e,t,n){const r=w.current?w.current(t,n):t.find((e=>0===(null==e?void 0:e.toLocaleLowerCase().indexOf(n.toLocaleLowerCase()))));return r?e.indexOf(r):-1}const n=i.current;if(y.current.length>0&&" "!==y.current[0]&&(-1===t(n,n,y.current)?M(!1):" "===e.key&&(0,u.p7)(e)),null==n||k.current.includes(e.key)||1!==e.key.length||e.ctrlKey||e.metaKey||e.altKey)return;r&&" "!==e.key&&((0,u.p7)(e),M(!0));n.every((e=>{var t,n;return!e||(null==(t=e[0])?void 0:t.toLocaleLowerCase())!==(null==(n=e[1])?void 0:n.toLocaleLowerCase())}))&&y.current===e.key&&(y.current="",b.current=E.current),y.current+=e.key,clearTimeout(h.current),h.current=setTimeout((()=>{y.current="",b.current=E.current,M(!1)}),v);const o=b.current,c=t(n,[...n.slice((o||0)+1),...n.slice(0,(o||0)+1)],y.current);-1!==c?(x(c),E.current=c):" "!==e.key&&(y.current="",M(!1))})),C=o.useMemo((()=>({onKeyDown:I})),[I]),T=o.useMemo((()=>({onKeyDown:I,onKeyUp(e){" "===e.key&&M(!1)}})),[I,M]);return o.useMemo((()=>f?{reference:C,floating:T}:{}),[f,C,T])}function xt(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const Rt=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:o,offset:u=0,index:i=0,minItemsVisible:l=4,referenceOverflowThreshold:d=0,scrollRef:v,...m}=(0,c.ku)(e,t),{rects:p,elements:{floating:g}}=t,h=n.current[i];if(!h)return{};const y={...t,...await(0,a.cv)(-h.offsetTop-g.clientTop-p.reference.height/2-h.offsetHeight/2-u).fn(t)},b=(null==v?void 0:v.current)||g,E=await(0,f.US)(xt(y,b.scrollHeight),m),x=await(0,f.US)(y,{...m,elementContext:"reference"}),R=Math.max(0,E.top),w=y.y+R,k=Math.max(0,b.scrollHeight-R-Math.max(0,E.bottom));return b.style.maxHeight=k+"px",b.scrollTop=R,o&&(b.offsetHeight<h.offsetHeight*Math.min(l,n.current.length-1)-1||x.top>=-d||x.bottom>=-d?s.flushSync((()=>o(!0))):s.flushSync((()=>o(!1)))),r&&(r.current=await(0,f.US)(xt({...y,y:w},b.offsetHeight),m)),{y:w}}});function wt(e,t){const{open:n,elements:r}=e,{enabled:c=!0,overflowRef:i,scrollRef:l,onChange:a}=t,f=p(a),d=o.useRef(!1),v=o.useRef(null),m=o.useRef(null);o.useEffect((()=>{if(!c)return;function e(e){if(e.ctrlKey||!t||null==i.current)return;const n=e.deltaY,r=i.current.top>=-.5,o=i.current.bottom>=-.5,c=t.scrollHeight-t.clientHeight,l=n<0?-1:1,a=n<0?"max":"min";t.scrollHeight<=t.clientHeight||(!r&&n>0||!o&&n<0?(e.preventDefault(),s.flushSync((()=>{f((e=>e+Math[a](n,c*l)))}))):/firefox/i.test((0,u.ij)())&&(t.scrollTop+=n))}const t=(null==l?void 0:l.current)||r.floating;return n&&t?(t.addEventListener("wheel",e),requestAnimationFrame((()=>{v.current=t.scrollTop,null!=i.current&&(m.current={...i.current})})),()=>{v.current=null,m.current=null,t.removeEventListener("wheel",e)}):void 0}),[c,n,r.floating,i,l,f]);const g=o.useMemo((()=>({onKeyDown(){d.current=!0},onWheel(){d.current=!1},onPointerMove(){d.current=!1},onScroll(){const e=(null==l?void 0:l.current)||r.floating;if(i.current&&e&&d.current){if(null!==v.current){const t=e.scrollTop-v.current;(i.current.bottom<-.5&&t<-1||i.current.top<-.5&&t>1)&&s.flushSync((()=>f((e=>e+t))))}requestAnimationFrame((()=>{v.current=e.scrollTop}))}}})),[r.floating,f,i,l]);return o.useMemo((()=>c?{floating:g}:{}),[c,g])}function kt(e,t){const[n,r]=e;let o=!1;const u=t.length;for(let c=0,i=u-1;c<u;i=c++){const[e,u]=t[c]||[0,0],[l,s]=t[i]||[0,0];u>=r!==s>=r&&n<=(l-e)*(r-u)/(s-u)+e&&(o=!o)}return o}function Mt(e){void 0===e&&(e={});const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e;let o,c=!1,l=null,s=null,a=performance.now();const f=e=>{let{x:n,y:f,placement:d,elements:v,onClose:m,nodeId:p,tree:g}=e;return function(e){function h(){clearTimeout(o),m()}if(clearTimeout(o),!v.domReference||!v.floating||null==d||null==n||null==f)return;const{clientX:y,clientY:b}=e,E=[y,b],x=(0,u.U9)(e),R="mouseleave"===e.type,w=(0,u.r3)(v.floating,x),k=(0,u.r3)(v.domReference,x),M=v.domReference.getBoundingClientRect(),I=v.floating.getBoundingClientRect(),C=d.split("-")[0],T=n>I.right-I.width/2,O=f>I.bottom-I.height/2,P=function(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}(E,M),L=I.width>M.width,S=I.height>M.height,A=(L?M:I).left,D=(L?M:I).right,F=(S?M:I).top,K=(S?M:I).bottom;if(w&&(c=!0,!R))return;if(k&&(c=!1),k&&!R)return void(c=!0);if(R&&(0,i.kK)(e.relatedTarget)&&(0,u.r3)(v.floating,e.relatedTarget))return;if(g&&me(g.nodesRef.current,p).some((e=>{let{context:t}=e;return null==t?void 0:t.open})))return;if("top"===C&&f>=M.bottom-1||"bottom"===C&&f<=M.top+1||"left"===C&&n>=M.right-1||"right"===C&&n<=M.left+1)return h();let N=[];switch(C){case"top":N=[[A,M.top+1],[A,I.bottom-1],[D,I.bottom-1],[D,M.top+1]];break;case"bottom":N=[[A,I.top+1],[A,M.bottom-1],[D,M.bottom-1],[D,I.top+1]];break;case"left":N=[[I.right-1,K],[I.right-1,F],[M.left+1,F],[M.left+1,K]];break;case"right":N=[[M.right-1,K],[M.right-1,F],[I.left+1,F],[I.left+1,K]]}if(!kt([y,b],N)){if(c&&!P)return h();if(!R&&r){const t=function(e,t){const n=performance.now(),r=n-a;if(null===l||null===s||0===r)return l=e,s=t,a=n,null;const o=e-l,u=t-s,c=Math.sqrt(o*o+u*u);return l=e,s=t,a=n,c/r}(e.clientX,e.clientY);if(null!==t&&t<.1)return h()}kt([y,b],function(e){let[n,r]=e;switch(C){case"top":return[[L?n+t/2:T?n+4*t:n-4*t,r+t+1],[L?n-t/2:T?n+4*t:n-4*t,r+t+1],...[[I.left,T||L?I.bottom-t:I.top],[I.right,T?L?I.bottom-t:I.top:I.bottom-t]]];case"bottom":return[[L?n+t/2:T?n+4*t:n-4*t,r-t],[L?n-t/2:T?n+4*t:n-4*t,r-t],...[[I.left,T||L?I.top+t:I.bottom],[I.right,T?L?I.top+t:I.bottom:I.top+t]]];case"left":{const e=[n+t+1,S?r+t/2:O?r+4*t:r-4*t],o=[n+t+1,S?r-t/2:O?r+4*t:r-4*t];return[...[[O||S?I.right-t:I.left,I.top],[O?S?I.right-t:I.left:I.right-t,I.bottom]],e,o]}case"right":return[[n-t,S?r+t/2:O?r+4*t:r-4*t],[n-t,S?r-t/2:O?r+4*t:r-4*t],...[[O||S?I.left+t:I.right,I.top],[O?S?I.left+t:I.right:I.left+t,I.bottom]]]}}([n,f]))?!c&&r&&(o=window.setTimeout(h,40)):h()}}};return f.__options={blockPointerEvents:n},f}}}]);